{"version":3,"names":["cov_6zez6n94d","actualCoverage","s","zod_1","require","exports","dataRetentionPolicySchema","z","object","chatLogs","number","int","min","max","optional","messageFeedback","systemMetrics","webhookLogs","healthChecks","auditLogs","autoDelete","boolean","anonymizeData","dataRetentionCleanupSchema","dataType","enum","globalCleanupSchema","retentionDays"],"sources":["/Users/yusukeyoshioka/projects/youtube/ai-chat/ai-chat-api/src/schemas/dataRetentionSchema.ts"],"sourcesContent":["import { z } from 'zod';\n\nexport const dataRetentionPolicySchema = z.object({\n  chatLogs: z.number().int().min(1).max(3650).optional(), // 1 day to 10 years\n  messageFeedback: z.number().int().min(1).max(3650).optional(),\n  systemMetrics: z.number().int().min(1).max(3650).optional(),\n  webhookLogs: z.number().int().min(1).max(3650).optional(),\n  healthChecks: z.number().int().min(1).max(3650).optional(),\n  auditLogs: z.number().int().min(365).max(3650).optional(), // Min 1 year for compliance\n  autoDelete: z.boolean().optional(),\n  anonymizeData: z.boolean().optional(),\n});\n\nexport const dataRetentionCleanupSchema = z.object({\n  dataType: z.enum([\n    'chat_logs',\n    'webhook_logs',\n    'system_metrics',\n    'health_checks',\n  ]),\n});\n\nexport const globalCleanupSchema = z.object({\n  dataType: z.enum(['system_metrics', 'health_checks']),\n  retentionDays: z.number().int().min(1).max(3650).optional(),\n});\n\nexport type DataRetentionPolicy = z.infer<typeof dataRetentionPolicySchema>;\nexport type DataRetentionCleanup = z.infer<typeof dataRetentionCleanupSchema>;\nexport type GlobalCleanup = z.infer<typeof globalCleanupSchema>;\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAcU;IAAAA,aAAA,YAAAA,CAAA;MAAA,OAAAC,cAAA;IAAA;EAAA;EAAA,OAAAA,cAAA;AAAA;AAAAD,aAAA;AAAAA,aAAA,GAAAE,CAAA;;;;;;;AAdV,MAAAC,KAAA;AAAA;AAAA,CAAAH,aAAA,GAAAE,CAAA,OAAAE,OAAA;AAAwB;AAAAJ,aAAA,GAAAE,CAAA;AAEXG,OAAA,CAAAC,yBAAyB,GAAGH,KAAA,CAAAI,CAAC,CAACC,MAAM,CAAC;EAChDC,QAAQ,EAAEN,KAAA,CAAAI,CAAC,CAACG,MAAM,EAAE,CAACC,GAAG,EAAE,CAACC,GAAG,CAAC,CAAC,CAAC,CAACC,GAAG,CAAC,IAAI,CAAC,CAACC,QAAQ,EAAE;EAAE;EACxDC,eAAe,EAAEZ,KAAA,CAAAI,CAAC,CAACG,MAAM,EAAE,CAACC,GAAG,EAAE,CAACC,GAAG,CAAC,CAAC,CAAC,CAACC,GAAG,CAAC,IAAI,CAAC,CAACC,QAAQ,EAAE;EAC7DE,aAAa,EAAEb,KAAA,CAAAI,CAAC,CAACG,MAAM,EAAE,CAACC,GAAG,EAAE,CAACC,GAAG,CAAC,CAAC,CAAC,CAACC,GAAG,CAAC,IAAI,CAAC,CAACC,QAAQ,EAAE;EAC3DG,WAAW,EAAEd,KAAA,CAAAI,CAAC,CAACG,MAAM,EAAE,CAACC,GAAG,EAAE,CAACC,GAAG,CAAC,CAAC,CAAC,CAACC,GAAG,CAAC,IAAI,CAAC,CAACC,QAAQ,EAAE;EACzDI,YAAY,EAAEf,KAAA,CAAAI,CAAC,CAACG,MAAM,EAAE,CAACC,GAAG,EAAE,CAACC,GAAG,CAAC,CAAC,CAAC,CAACC,GAAG,CAAC,IAAI,CAAC,CAACC,QAAQ,EAAE;EAC1DK,SAAS,EAAEhB,KAAA,CAAAI,CAAC,CAACG,MAAM,EAAE,CAACC,GAAG,EAAE,CAACC,GAAG,CAAC,GAAG,CAAC,CAACC,GAAG,CAAC,IAAI,CAAC,CAACC,QAAQ,EAAE;EAAE;EAC3DM,UAAU,EAAEjB,KAAA,CAAAI,CAAC,CAACc,OAAO,EAAE,CAACP,QAAQ,EAAE;EAClCQ,aAAa,EAAEnB,KAAA,CAAAI,CAAC,CAACc,OAAO,EAAE,CAACP,QAAQ;CACpC,CAAC;AAAC;AAAAd,aAAA,GAAAE,CAAA;AAEUG,OAAA,CAAAkB,0BAA0B,GAAGpB,KAAA,CAAAI,CAAC,CAACC,MAAM,CAAC;EACjDgB,QAAQ,EAAErB,KAAA,CAAAI,CAAC,CAACkB,IAAI,CAAC,CACf,WAAW,EACX,cAAc,EACd,gBAAgB,EAChB,eAAe,CAChB;CACF,CAAC;AAAC;AAAAzB,aAAA,GAAAE,CAAA;AAEUG,OAAA,CAAAqB,mBAAmB,GAAGvB,KAAA,CAAAI,CAAC,CAACC,MAAM,CAAC;EAC1CgB,QAAQ,EAAErB,KAAA,CAAAI,CAAC,CAACkB,IAAI,CAAC,CAAC,gBAAgB,EAAE,eAAe,CAAC,CAAC;EACrDE,aAAa,EAAExB,KAAA,CAAAI,CAAC,CAACG,MAAM,EAAE,CAACC,GAAG,EAAE,CAACC,GAAG,CAAC,CAAC,CAAC,CAACC,GAAG,CAAC,IAAI,CAAC,CAACC,QAAQ;CAC1D,CAAC","ignoreList":[]}