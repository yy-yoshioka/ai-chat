bf1bbccf69aeac648a51c984b2e3b73c
"use strict";

/* istanbul ignore next */
function cov_6zez6n94d() {
  var path = "/Users/yusukeyoshioka/projects/youtube/ai-chat/ai-chat-api/src/schemas/dataRetentionSchema.ts";
  var hash = "46ae34557be1243117464b3464b959e59d744ac5";
  var global = new Function("return this")();
  var gcv = "__coverage__";
  var coverageData = {
    path: "/Users/yusukeyoshioka/projects/youtube/ai-chat/ai-chat-api/src/schemas/dataRetentionSchema.ts",
    statementMap: {
      "0": {
        start: {
          line: 2,
          column: 0
        },
        end: {
          line: 2,
          column: 62
        }
      },
      "1": {
        start: {
          line: 3,
          column: 0
        },
        end: {
          line: 3,
          column: 110
        }
      },
      "2": {
        start: {
          line: 4,
          column: 14
        },
        end: {
          line: 4,
          column: 28
        }
      },
      "3": {
        start: {
          line: 5,
          column: 0
        },
        end: {
          line: 14,
          column: 3
        }
      },
      "4": {
        start: {
          line: 15,
          column: 0
        },
        end: {
          line: 22,
          column: 3
        }
      },
      "5": {
        start: {
          line: 23,
          column: 0
        },
        end: {
          line: 26,
          column: 3
        }
      }
    },
    fnMap: {},
    branchMap: {},
    s: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0
    },
    f: {},
    b: {},
    inputSourceMap: {
      file: "/Users/yusukeyoshioka/projects/youtube/ai-chat/ai-chat-api/src/schemas/dataRetentionSchema.ts",
      mappings: ";;;AAAA,6BAAwB;AAEX,QAAA,yBAAyB,GAAG,OAAC,CAAC,MAAM,CAAC;IAChD,QAAQ,EAAE,OAAC,CAAC,MAAM,EAAE,CAAC,GAAG,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,QAAQ,EAAE,EAAE,oBAAoB;IAC5E,eAAe,EAAE,OAAC,CAAC,MAAM,EAAE,CAAC,GAAG,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,QAAQ,EAAE;IAC7D,aAAa,EAAE,OAAC,CAAC,MAAM,EAAE,CAAC,GAAG,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,QAAQ,EAAE;IAC3D,WAAW,EAAE,OAAC,CAAC,MAAM,EAAE,CAAC,GAAG,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,QAAQ,EAAE;IACzD,YAAY,EAAE,OAAC,CAAC,MAAM,EAAE,CAAC,GAAG,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,QAAQ,EAAE;IAC1D,SAAS,EAAE,OAAC,CAAC,MAAM,EAAE,CAAC,GAAG,EAAE,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,QAAQ,EAAE,EAAE,4BAA4B;IACvF,UAAU,EAAE,OAAC,CAAC,OAAO,EAAE,CAAC,QAAQ,EAAE;IAClC,aAAa,EAAE,OAAC,CAAC,OAAO,EAAE,CAAC,QAAQ,EAAE;CACtC,CAAC,CAAC;AAEU,QAAA,0BAA0B,GAAG,OAAC,CAAC,MAAM,CAAC;IACjD,QAAQ,EAAE,OAAC,CAAC,IAAI,CAAC;QACf,WAAW;QACX,cAAc;QACd,gBAAgB;QAChB,eAAe;KAChB,CAAC;CACH,CAAC,CAAC;AAEU,QAAA,mBAAmB,GAAG,OAAC,CAAC,MAAM,CAAC;IAC1C,QAAQ,EAAE,OAAC,CAAC,IAAI,CAAC,CAAC,gBAAgB,EAAE,eAAe,CAAC,CAAC;IACrD,aAAa,EAAE,OAAC,CAAC,MAAM,EAAE,CAAC,GAAG,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,QAAQ,EAAE;CAC5D,CAAC,CAAC",
      names: [],
      sources: ["/Users/yusukeyoshioka/projects/youtube/ai-chat/ai-chat-api/src/schemas/dataRetentionSchema.ts"],
      sourcesContent: ["import { z } from 'zod';\n\nexport const dataRetentionPolicySchema = z.object({\n  chatLogs: z.number().int().min(1).max(3650).optional(), // 1 day to 10 years\n  messageFeedback: z.number().int().min(1).max(3650).optional(),\n  systemMetrics: z.number().int().min(1).max(3650).optional(),\n  webhookLogs: z.number().int().min(1).max(3650).optional(),\n  healthChecks: z.number().int().min(1).max(3650).optional(),\n  auditLogs: z.number().int().min(365).max(3650).optional(), // Min 1 year for compliance\n  autoDelete: z.boolean().optional(),\n  anonymizeData: z.boolean().optional(),\n});\n\nexport const dataRetentionCleanupSchema = z.object({\n  dataType: z.enum([\n    'chat_logs',\n    'webhook_logs',\n    'system_metrics',\n    'health_checks',\n  ]),\n});\n\nexport const globalCleanupSchema = z.object({\n  dataType: z.enum(['system_metrics', 'health_checks']),\n  retentionDays: z.number().int().min(1).max(3650).optional(),\n});\n\nexport type DataRetentionPolicy = z.infer<typeof dataRetentionPolicySchema>;\nexport type DataRetentionCleanup = z.infer<typeof dataRetentionCleanupSchema>;\nexport type GlobalCleanup = z.infer<typeof globalCleanupSchema>;\n"],
      version: 3
    },
    _coverageSchema: "1a1c01bbd47fc00a2c39e90264f33305004495a9",
    hash: "46ae34557be1243117464b3464b959e59d744ac5"
  };
  var coverage = global[gcv] || (global[gcv] = {});
  if (!coverage[path] || coverage[path].hash !== hash) {
    coverage[path] = coverageData;
  }
  var actualCoverage = coverage[path];
  {
    // @ts-ignore
    cov_6zez6n94d = function () {
      return actualCoverage;
    };
  }
  return actualCoverage;
}
cov_6zez6n94d();
cov_6zez6n94d().s[0]++;
Object.defineProperty(exports, "__esModule", {
  value: true
});
/* istanbul ignore next */
cov_6zez6n94d().s[1]++;
exports.globalCleanupSchema = exports.dataRetentionCleanupSchema = exports.dataRetentionPolicySchema = void 0;
const zod_1 =
/* istanbul ignore next */
(cov_6zez6n94d().s[2]++, require("zod"));
/* istanbul ignore next */
cov_6zez6n94d().s[3]++;
exports.dataRetentionPolicySchema = zod_1.z.object({
  chatLogs: zod_1.z.number().int().min(1).max(3650).optional(),
  // 1 day to 10 years
  messageFeedback: zod_1.z.number().int().min(1).max(3650).optional(),
  systemMetrics: zod_1.z.number().int().min(1).max(3650).optional(),
  webhookLogs: zod_1.z.number().int().min(1).max(3650).optional(),
  healthChecks: zod_1.z.number().int().min(1).max(3650).optional(),
  auditLogs: zod_1.z.number().int().min(365).max(3650).optional(),
  // Min 1 year for compliance
  autoDelete: zod_1.z.boolean().optional(),
  anonymizeData: zod_1.z.boolean().optional()
});
/* istanbul ignore next */
cov_6zez6n94d().s[4]++;
exports.dataRetentionCleanupSchema = zod_1.z.object({
  dataType: zod_1.z.enum(['chat_logs', 'webhook_logs', 'system_metrics', 'health_checks'])
});
/* istanbul ignore next */
cov_6zez6n94d().s[5]++;
exports.globalCleanupSchema = zod_1.z.object({
  dataType: zod_1.z.enum(['system_metrics', 'health_checks']),
  retentionDays: zod_1.z.number().int().min(1).max(3650).optional()
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb3ZfNnplejZuOTRkIiwiYWN0dWFsQ292ZXJhZ2UiLCJzIiwiem9kXzEiLCJyZXF1aXJlIiwiZXhwb3J0cyIsImRhdGFSZXRlbnRpb25Qb2xpY3lTY2hlbWEiLCJ6Iiwib2JqZWN0IiwiY2hhdExvZ3MiLCJudW1iZXIiLCJpbnQiLCJtaW4iLCJtYXgiLCJvcHRpb25hbCIsIm1lc3NhZ2VGZWVkYmFjayIsInN5c3RlbU1ldHJpY3MiLCJ3ZWJob29rTG9ncyIsImhlYWx0aENoZWNrcyIsImF1ZGl0TG9ncyIsImF1dG9EZWxldGUiLCJib29sZWFuIiwiYW5vbnltaXplRGF0YSIsImRhdGFSZXRlbnRpb25DbGVhbnVwU2NoZW1hIiwiZGF0YVR5cGUiLCJlbnVtIiwiZ2xvYmFsQ2xlYW51cFNjaGVtYSIsInJldGVudGlvbkRheXMiXSwic291cmNlcyI6WyIvVXNlcnMveXVzdWtleW9zaGlva2EvcHJvamVjdHMveW91dHViZS9haS1jaGF0L2FpLWNoYXQtYXBpL3NyYy9zY2hlbWFzL2RhdGFSZXRlbnRpb25TY2hlbWEudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgeiB9IGZyb20gJ3pvZCc7XG5cbmV4cG9ydCBjb25zdCBkYXRhUmV0ZW50aW9uUG9saWN5U2NoZW1hID0gei5vYmplY3Qoe1xuICBjaGF0TG9nczogei5udW1iZXIoKS5pbnQoKS5taW4oMSkubWF4KDM2NTApLm9wdGlvbmFsKCksIC8vIDEgZGF5IHRvIDEwIHllYXJzXG4gIG1lc3NhZ2VGZWVkYmFjazogei5udW1iZXIoKS5pbnQoKS5taW4oMSkubWF4KDM2NTApLm9wdGlvbmFsKCksXG4gIHN5c3RlbU1ldHJpY3M6IHoubnVtYmVyKCkuaW50KCkubWluKDEpLm1heCgzNjUwKS5vcHRpb25hbCgpLFxuICB3ZWJob29rTG9nczogei5udW1iZXIoKS5pbnQoKS5taW4oMSkubWF4KDM2NTApLm9wdGlvbmFsKCksXG4gIGhlYWx0aENoZWNrczogei5udW1iZXIoKS5pbnQoKS5taW4oMSkubWF4KDM2NTApLm9wdGlvbmFsKCksXG4gIGF1ZGl0TG9nczogei5udW1iZXIoKS5pbnQoKS5taW4oMzY1KS5tYXgoMzY1MCkub3B0aW9uYWwoKSwgLy8gTWluIDEgeWVhciBmb3IgY29tcGxpYW5jZVxuICBhdXRvRGVsZXRlOiB6LmJvb2xlYW4oKS5vcHRpb25hbCgpLFxuICBhbm9ueW1pemVEYXRhOiB6LmJvb2xlYW4oKS5vcHRpb25hbCgpLFxufSk7XG5cbmV4cG9ydCBjb25zdCBkYXRhUmV0ZW50aW9uQ2xlYW51cFNjaGVtYSA9IHoub2JqZWN0KHtcbiAgZGF0YVR5cGU6IHouZW51bShbXG4gICAgJ2NoYXRfbG9ncycsXG4gICAgJ3dlYmhvb2tfbG9ncycsXG4gICAgJ3N5c3RlbV9tZXRyaWNzJyxcbiAgICAnaGVhbHRoX2NoZWNrcycsXG4gIF0pLFxufSk7XG5cbmV4cG9ydCBjb25zdCBnbG9iYWxDbGVhbnVwU2NoZW1hID0gei5vYmplY3Qoe1xuICBkYXRhVHlwZTogei5lbnVtKFsnc3lzdGVtX21ldHJpY3MnLCAnaGVhbHRoX2NoZWNrcyddKSxcbiAgcmV0ZW50aW9uRGF5czogei5udW1iZXIoKS5pbnQoKS5taW4oMSkubWF4KDM2NTApLm9wdGlvbmFsKCksXG59KTtcblxuZXhwb3J0IHR5cGUgRGF0YVJldGVudGlvblBvbGljeSA9IHouaW5mZXI8dHlwZW9mIGRhdGFSZXRlbnRpb25Qb2xpY3lTY2hlbWE+O1xuZXhwb3J0IHR5cGUgRGF0YVJldGVudGlvbkNsZWFudXAgPSB6LmluZmVyPHR5cGVvZiBkYXRhUmV0ZW50aW9uQ2xlYW51cFNjaGVtYT47XG5leHBvcnQgdHlwZSBHbG9iYWxDbGVhbnVwID0gei5pbmZlcjx0eXBlb2YgZ2xvYmFsQ2xlYW51cFNjaGVtYT47XG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0lBY1U7SUFBQUEs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