{"version":3,"names":["cov_1mylm2g6ck","actualCoverage","s","exports","PRESET_THEMES","light","theme","primaryColor","secondaryColor","backgroundColor","textColor","dark","blue","green","purple","orange","FONT_FAMILIES","value","label","isValidHexColor","color","f","test","validateTheme","errors","b","includes","push","colorFields","forEach","field","borderRadius","undefined","fontFamily","some","generateThemeCSS","trim","applyPresetTheme","presetName","currentTheme","preset","Error","Object","assign"],"sources":["/Users/yusukeyoshioka/projects/youtube/ai-chat/ai-chat-api/src/utils/themeUtils.ts"],"sourcesContent":["export interface WidgetTheme {\n  theme: 'light' | 'dark' | 'auto';\n  primaryColor: string;\n  secondaryColor: string;\n  backgroundColor: string;\n  textColor: string;\n  borderRadius: number;\n  fontFamily: string;\n}\n\nexport const PRESET_THEMES: Record<string, Partial<WidgetTheme>> = {\n  light: {\n    theme: 'light',\n    primaryColor: '#007bff',\n    secondaryColor: '#6c757d',\n    backgroundColor: '#ffffff',\n    textColor: '#212529',\n  },\n  dark: {\n    theme: 'dark',\n    primaryColor: '#0d6efd',\n    secondaryColor: '#adb5bd',\n    backgroundColor: '#212529',\n    textColor: '#ffffff',\n  },\n  blue: {\n    theme: 'light',\n    primaryColor: '#0066cc',\n    secondaryColor: '#4d94ff',\n    backgroundColor: '#f8f9ff',\n    textColor: '#1a1a1a',\n  },\n  green: {\n    theme: 'light',\n    primaryColor: '#28a745',\n    secondaryColor: '#20c997',\n    backgroundColor: '#f8fff9',\n    textColor: '#1a1a1a',\n  },\n  purple: {\n    theme: 'light',\n    primaryColor: '#6f42c1',\n    secondaryColor: '#9c7aea',\n    backgroundColor: '#faf8ff',\n    textColor: '#1a1a1a',\n  },\n  orange: {\n    theme: 'light',\n    primaryColor: '#fd7e14',\n    secondaryColor: '#ffb366',\n    backgroundColor: '#fff8f5',\n    textColor: '#1a1a1a',\n  },\n};\n\nexport const FONT_FAMILIES = [\n  { value: 'system-ui', label: 'System UI' },\n  { value: 'Inter, sans-serif', label: 'Inter' },\n  { value: 'Roboto, sans-serif', label: 'Roboto' },\n  { value: 'Open Sans, sans-serif', label: 'Open Sans' },\n  { value: 'Lato, sans-serif', label: 'Lato' },\n  { value: 'Montserrat, sans-serif', label: 'Montserrat' },\n  { value: 'Poppins, sans-serif', label: 'Poppins' },\n  { value: 'Source Sans Pro, sans-serif', label: 'Source Sans Pro' },\n];\n\n/**\n * Validate hex color format\n */\nexport function isValidHexColor(color: string): boolean {\n  return /^#[0-9A-Fa-f]{6}$/.test(color);\n}\n\n/**\n * Validate theme configuration\n */\nexport function validateTheme(theme: Partial<WidgetTheme>): string[] {\n  const errors: string[] = [];\n\n  if (theme.theme && !['light', 'dark', 'auto'].includes(theme.theme)) {\n    errors.push('Theme must be light, dark, or auto');\n  }\n\n  const colorFields = [\n    'primaryColor',\n    'secondaryColor',\n    'backgroundColor',\n    'textColor',\n  ];\n  colorFields.forEach((field) => {\n    const color = theme[field as keyof WidgetTheme] as string;\n    if (color && !isValidHexColor(color)) {\n      errors.push(`${field} must be a valid hex color`);\n    }\n  });\n\n  if (theme.borderRadius !== undefined) {\n    if (\n      typeof theme.borderRadius !== 'number' ||\n      theme.borderRadius < 0 ||\n      theme.borderRadius > 50\n    ) {\n      errors.push('Border radius must be between 0 and 50 pixels');\n    }\n  }\n\n  if (\n    theme.fontFamily &&\n    !FONT_FAMILIES.some((f) => f.value === theme.fontFamily)\n  ) {\n    errors.push('Invalid font family');\n  }\n\n  return errors;\n}\n\n/**\n * Generate CSS variables for widget theme\n */\nexport function generateThemeCSS(theme: WidgetTheme): string {\n  return `\n    --widget-theme: ${theme.theme};\n    --widget-primary-color: ${theme.primaryColor};\n    --widget-secondary-color: ${theme.secondaryColor};\n    --widget-background-color: ${theme.backgroundColor};\n    --widget-text-color: ${theme.textColor};\n    --widget-border-radius: ${theme.borderRadius}px;\n    --widget-font-family: ${theme.fontFamily};\n  `.trim();\n}\n\n/**\n * Apply preset theme to widget configuration\n */\nexport function applyPresetTheme(\n  presetName: string,\n  currentTheme: Partial<WidgetTheme>\n): WidgetTheme {\n  const preset = PRESET_THEMES[presetName];\n  if (!preset) {\n    throw new Error(`Unknown preset theme: ${presetName}`);\n  }\n\n  return {\n    theme: 'light',\n    primaryColor: '#007bff',\n    secondaryColor: '#6c757d',\n    backgroundColor: '#ffffff',\n    textColor: '#212529',\n    borderRadius: 8,\n    fontFamily: 'system-ui',\n    ...currentTheme,\n    ...preset,\n  };\n}\n"],"mappings":"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","ignoreList":[]}