```bash
# =====================================================================
#  ğŸš€  Claude Code RUNBOOK  â€“  ai-chat / ai-chat-ui Monorepo
#  (åŸºç‚¹ãƒ–ãƒ©ãƒ³ãƒ: develop)
# =====================================================================
#  ğŸ¯ GLOBAL GOALS
#    1. ã™ã¹ã¦ã® TODO ã‚’ã‚¯ãƒªã‚¢ã—ã¦  yarn lint / yarn build = Error 0
#    2. ä½œæ¥­ã¯ feature/<todo-key> â† develop ã§è¡Œã„ã€PR ã‚‚ develop å‘ã‘
#    3. å„ã‚¹ãƒ†ãƒƒãƒ—ã® START / DONE / FAIL ã¨ PR READY ã‚’ Slack #dev-ci ã«é€šçŸ¥
#
# =====================================================================
#  ğŸ—‚ï¸  REPO STRUCTUREï¼ˆæŠœç²‹ï¼‰
#    ai-chat         â€¦ Express API
#    ai-chat-ui      â€¦ Next.js App Router (BFF)
#      â”œâ”€ app/api/bff/**        â† BFF ãƒ«ãƒ¼ãƒˆ
#      â”œâ”€ app/_schemas/**       â† Zod ã‚¹ã‚­ãƒ¼ãƒå°‚ç”¨
#      â”œâ”€ app/_utils/fetcher.ts â† fetch ãƒ©ãƒƒãƒ‘
#      â””â”€ scripts/slack-notify.sh
#
# =====================================================================
#  âš™ï¸  CLAUDE CODE SETTINGS
#  permissions.json
#  -----------------
#  {
#    "permissions": { "allow": ["Bash(*)","Git(*)","Yarn(*)","Docker(*)","Node(*)"], "deny": [] },
#    "auto_confirm": true
#  }
#
# =====================================================================
#  ğŸ””  SLACK NOTIFY RULE
#    ./scripts/slack-notify.sh "START <todo-key>"
#    ./scripts/slack-notify.sh "DONE  <todo-key>"
#    ./scripts/slack-notify.sh "FAIL  <todo-key> : <stderr>"
#    ./scripts/slack-notify.sh "PR READY <branch>"
#
# =====================================================================
#  ğŸŒ³  GIT WORKFLOW
#    â€¢ ãƒ–ãƒ©ãƒ³ãƒ : feature/<todo-key>  ï¼ˆdevelop ã‹ã‚‰ä½œæˆï¼‰
#    â€¢ Commit : <type>(<scope>): <subject>   ä¾‹) feat(api): dashboard route
#      - type  = feat / fix / refactor / chore / test / docs
#      - scope = api | ui | hook | schema | config | infra
#      - æœ«å°¾ã«ã€Œ#CIã€ã§ GitHub Actions å®Ÿè¡Œ
#
# =====================================================================
#  ğŸ›¡ï¸  CODING RULE DIGEST
#    â€¢ fetch ç›´å‘¼ã³ç¦æ­¢  â†’ å¿…ãš app/_utils/fetcher.ts çµŒç”±
#    â€¢ Zod å®£è¨€          â†’ app/_schemas/** ã®ã¿
#    â€¢ npm / pnpm ç¦æ­¢   â†’ Yarn å›ºå®š
#    â€¢ ESLint            â†’ max-lines-per-function 100 / jsx-max-depth 5
#    â€¢ eslint-disable    â†’ åŸå‰‡ç¦æ­¢
#
# =====================================================================
#  ğŸªœ  TODO ROADMAP  ï¼ˆå…¨ 17 ã‚»ã‚¯ã‚·ãƒ§ãƒ³  + Finalizeï¼‰
# =====================================================================

# ---------------------------------------------------------------------
# â–  Section-0   chore: init phase-1 branch                  <todo-key> phase1-init
# ---------------------------------------------------------------------
#   â€¢ develop ã‹ã‚‰ feature/phase1-impl ã‚’ä½œæˆ
#   â€¢ ç©º commit ã‚’ä½œã‚Š Slack é€šçŸ¥ START / DONE
#
# ---------------------------------------------------------------------
# â–  Section-0.5 infra-ci                                   <todo-key> infra-ci
# ---------------------------------------------------------------------
#   â€¢ Docker Composeï¼ˆPostgreSQL / Redis / Pinecone or Qdrantï¼‰
#   â€¢ .env.example è¿½åŠ ã€GitHub Actions ã§ lint / build / test / e2e / preview
#
# ---------------------------------------------------------------------
# â–  Section-0.6 error-logging                              <todo-key> error-logging
# ---------------------------------------------------------------------
#   â€¢ ã‚°ãƒ­ãƒ¼ãƒãƒ«ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒ©ãƒ»Sentry åˆæœŸåŒ–ãƒ»JSON ãƒ­ã‚°
#   â€¢ /healthz ã§ 200 ã‚’è¿”ã™
#
# ---------------------------------------------------------------------
# â–  Section-1   feat(kb): KB ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰åŸºç›¤              <todo-key> kb-upload
# ---------------------------------------------------------------------
#   â€¢ Prisma KnowledgeBase ãƒ¢ãƒ‡ãƒ«
#   â€¢ /knowledge-base/upload|items|deleteï¼ˆExpress+BFFï¼‰
#   â€¢ S3 ä¿å­˜ã¾ã§å®Ÿè£…ã€UI Uploader é››å½¢
#
# ---------------------------------------------------------------------
# â–  Section-1b  feat(kb): ãƒ™ã‚¯ãƒˆãƒ«åŒ– & RAG æ¤œç´¢            <todo-key> kb-rag
# ---------------------------------------------------------------------
#   â€¢ BullMQ ãƒ¯ãƒ¼ã‚«ãƒ¼ã§ chunkâ†’embeddingâ†’VectorDB
#   â€¢ /knowledge-base/train|status è¿½åŠ ã€ãƒãƒ£ãƒƒãƒˆ API ãŒ KB å‚ç…§
#
# ---------------------------------------------------------------------
# â–  Section-2   feat(feedback): æ”¹å–„ãƒ«ãƒ¼ãƒ—                 <todo-key> training-feedback
# ---------------------------------------------------------------------
#   â€¢ /training/feedbackï¼ˆExpress+BFFï¼‰
#   â€¢ BullMQ training-feedback ã‚­ãƒ¥ãƒ¼
#   â€¢ useFeedback Hook é››å½¢
#
# ---------------------------------------------------------------------
# â–  Section-3   feat(analytics): ä¼šè©±åˆ†æ & æœªè§£æ±º         <todo-key> analytics-base
# ---------------------------------------------------------------------
#   â€¢ /analytics/conversation-flow & /analytics/unresolvedï¼ˆExpress+BFFï¼‰
#   â€¢ ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰åœŸå° & useAnalytics Hook
#
# ---------------------------------------------------------------------
# â–  Section-4   feat(users): è©³ç´°ãƒ»æ‹›å¾…                    <todo-key> user-management
# ---------------------------------------------------------------------
#   â€¢ UserDetailView / InviteUserModal / UserPermissionsEditor
#   â€¢ BFF /users/[id] /users/invite è£œå®Œ
#
# ---------------------------------------------------------------------
# â–  Section-5   feat(auth): ãƒ‘ã‚¹ãƒªã‚»ãƒƒãƒˆ & èªè¨¼å¼·åŒ–        <todo-key> auth-flow
# ---------------------------------------------------------------------
#   â€¢ Forgot / Reset / Verify ãƒšãƒ¼ã‚¸ & BFF ãƒ«ãƒ¼ãƒˆ
#
# ---------------------------------------------------------------------
# â–  Section-6   feat(settings): å„ç¨®è¨­å®š + é€šçŸ¥            <todo-key> settings-suite
# ---------------------------------------------------------------------
#   â€¢ Settings ãƒšãƒ¼ã‚¸ç¾¤ãƒ»NotificationCenterãƒ»useNotifications
#   â€¢ BFF /settings /notifications /logs
#
# ---------------------------------------------------------------------
# â–  Section-7   feat(org): Org & Widget æ‹¡å……               <todo-key> org-widgets
# ---------------------------------------------------------------------
#   â€¢ Organizations List + Widgets BFF æ¬ æè£œå®Œ
#
# ---------------------------------------------------------------------
# â–  Section-8   feat(reports): Export                      <todo-key> reports-export
# ---------------------------------------------------------------------
#   â€¢ /reports/export BFFãƒ»CSV ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ UI
#
# ---------------------------------------------------------------------
# â–  Section-9   feat(schema): Zod è¿½åŠ  & ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³     <todo-key> schema-ratchet
# ---------------------------------------------------------------------
#   â€¢ æ¬ å“ã‚¹ã‚­ãƒ¼ãƒè¿½åŠ ãƒ»BFF safeParse å‘¼ã³å‡ºã—
#
# ---------------------------------------------------------------------
# â–  Section-10  test: ãƒ¦ãƒ‹ãƒƒãƒˆ & E2E é››å½¢                  <todo-key> tests-placeholder
# ---------------------------------------------------------------------
#   â€¢ Jest/Supertest ã¨ Playwright ã®éª¨çµ„ã¿
#
# ---------------------------------------------------------------------
# â–  Section-11  feat(webhook): Webhook Suite               <todo-key> webhook-suite
# ---------------------------------------------------------------------
#   â€¢ /webhooks CRUD & ãƒ­ã‚°ã€è¨­å®š UIã€useWebhooks Hook
#
# ---------------------------------------------------------------------
# â–  Section-12  feat(status): System Health                <todo-key> system-health
# ---------------------------------------------------------------------
#   â€¢ /status/metrics â†’ SLA ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã€OTel Export
#
# ---------------------------------------------------------------------
# â–  Section-13  docs: OpenAPI & JS SDK                     <todo-key> openapi-sdk
# ---------------------------------------------------------------------
#   â€¢ openapi.yml éª¨å­ãƒ»SDK ç”Ÿæˆã‚¹ã‚¯ãƒªãƒ—ãƒˆé››å½¢
#
# ---------------------------------------------------------------------
# â–  Section-14  docs: Storybook & ã‚¢ãƒ¼ã‚­æ–‡æ›¸               <todo-key> storybook-docs
# ---------------------------------------------------------------------
#   â€¢ Storybook åˆæœŸåŒ–ãƒ»docs/architecture.md è‰ç¨¿
#
# ---------------------------------------------------------------------
# â–  Section-15  chore: Data Retention Job                  <todo-key> data-retention
# ---------------------------------------------------------------------
#   â€¢ å¤ã„ãƒãƒ£ãƒƒãƒˆå‰Šé™¤ã‚¸ãƒ§ãƒ–é››å½¢ãƒ»Retention è¨­å®š
#
# ---------------------------------------------------------------------
# â–  Section-16  feat(security): Multi-tenancy å¼·åŒ–         <todo-key> security-hardening
# ---------------------------------------------------------------------
#   â€¢ Storage & VectorDB éš”é›¢ã€RBAC Middleware ä¸‹åœ°
#
# ---------------------------------------------------------------------
# â–  Section-17  chore: Technical Debt Sprint               <todo-key> tech-debt
# ---------------------------------------------------------------------
#   â€¢ TODO ã‚³ãƒ¡ãƒ³ãƒˆè§£æ¶ˆãƒ»å¾ªç’° import æ’²æ»…ãƒ»å‹è£œå®Œ
#
# =====================================================================
#  ğŸ”š  FINALIZE
# ---------------------------------------------------------------------
slack-notify START finalize
git checkout develop
git merge --no-ff feature/phase1-impl
yarn format && yarn lint && yarn build && yarn test && yarn e2e
git commit -am "chore: phase-1 scaffolding complete #CI"
git push -u origin develop
gh pr create --base develop --fill
./scripts/slack-notify.sh "PR READY develop"
slack-notify DONE finalize
# =====================================================================
```
